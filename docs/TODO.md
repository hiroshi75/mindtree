# MindTree 開発計画

## Phase 1: 基本的なUI構築とノードの表示
- [x] プロジェクトの初期設定
  - [x] shadcnのセットアップ
  - [x] 必要なコンポーネントのインストール
  - [x] 基本設定の調整

- [x] 基本レイアウトの実装
  - [x] ヘッダーの実装
  - [x] メインエリアの実装
  - [x] 専用パネルの実装
  - [x] レスポンシブ対応

- [x] 基本的なノード表示機能
  - [x] ノードコンポーネントの作成
  - [x] インデントされたツリー構造の表示
  - [x] 仮データでの表示確認

## Phase 2: 基本的なノード操作機能
- [x] ノードの編集機能
  - [x] テキスト編集機能（ダブルクリック）
  - [x] テキスト編集機能（Enterキー）
  - [x] 編集モードのUI実装

- [x] ノードの選択機能
  - [x] 選択状態のUI実装
  - [x] テキストクリックで選択+編集
  - [x] テキスト以外クリックで選択のみ
  - [x] 選択状態でのキーボード操作

- [x] ノードの追加機能
  - [x] 兄弟ノード追加（Enter / ↓）
  - [x] 子ノード追加（CTRL + Enter / CTRL + ↓）
  - [x] キーボードショートカットの実装

- [x] ノードの削除機能
  - [x] 単一ノードの削除
  - [x] 子ノードの一括削除
  - [x] 削除確認UI

## Phase 3: ツリー操作とデータ永続化
- [x] ツリー構造の操作
  - [x] 展開・折りたたみ機能
  - [x] 矢印アイコンの実装
  - [x] アニメーション効果

- [x] データの永続化 (JSON)
  - [x] JSONフォーマットの定義
  - [x] エクスポート機能
  - [x] インポート機能
  - [x] ファイル処理のエラーハンドリング

- [x] データの永続化 (SQLite)
  - [x] SQLiteデータベースのセットアップ
  - [x] テーブル設計（ツリー管理、ノードデータ）
  - [x] 自動保存機能の実装
  - [x] エラーハンドリング

- [x] 複数ツリー管理機能
  - [x] 新規ツリー作成機能
  - [x] ツリー一覧ダイアログの実装
  - [x] ツリー名称変更機能
  - [x] ツリー削除機能
  - [x] 最後に編集したツリーの自動表示機能

## Phase 4: 高度な操作機能
- [x] ドラッグ&ドロップ
  - [x] ノードのドラッグ&ドロップUI実装
  - [x] ドラッグ中のビジュアルフィードバック
  - [x] ドロップ位置のバリデーション
  - [x] page.tsxでのデータ更新処理
  - [x] Server Actionでの移動処理
  - [x] データベースでの順序更新処理

- [x] Undo/Redo機能
  - [x] 操作履歴の管理機能
  - [x] Undoの実装
  - [x] Redoの実装
  - [x] キーボードショートカット対応

## Phase 5: 検索と色付け機能
- [x] 検索機能
  - [x] 検索バーのUI実装
  - [x] リアルタイム検索機能
  - [x] ハイライト表示機能
  - [x] 検索結果のナビゲーション

- [x] ノードの色付け機能
  - [x] カラーピッカーの実装
  - [x] 色選択メニューの実装
  - [x] 色情報の保存機能

## Phase 6: LLM連携機能
- [x] LLMパネルの実装
  - [x] プロンプト入力UI
  - [x] 詳細設定パネル
  - [x] パラメータ設定UI

- [x] LLM API連携
  - [x] API呼び出し実装
  - [x] レスポンス処理
  - [x] プレビュー表示
  - [x] エラーハンドリング

## Phase 7: 最終調整
- [x] パフォーマンス最適化
  - [x] レンダリング最適化（スクロール機能の改善）
  - [x] 状態管理の改善
  - [x] UI調整（LLMパネルの位置調整）
  - [ ] メモリ使用量の最適化

- [x] ドキュメント整備
  - [x] READMEの作成（スクリーンショット含む）

- [x] エラーハンドリング
  - [x] エラー表示UI
  - [x] リカバリー機能（データがない場合のメッセージ表示）
  - [x] 空のノードでのEnter/Tab押下時の制御
  - [x] ルートノードが空の場合のデフォルトテキスト設定
  - [x] エラーログ機能

- [ ] テストとデバッグ
  - [ ] ユニットテストの作成
  - [ ] E2Eテストの作成
  - [ ] バグ修正と検証

## 進捗状況
- 開始日: 2025/1/31
- 現在のフェーズ: Phase 7
- 完了したタスク: 17/20
- 現在の課題:
  - パフォーマンス最適化の実施
